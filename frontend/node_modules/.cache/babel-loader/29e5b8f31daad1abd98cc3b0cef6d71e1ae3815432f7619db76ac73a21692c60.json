{"ast":null,"code":"var _jsxFileName = \"E:\\\\tripilot-real-estate(29-june)\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\n// frontend/src/App.tsx - UPDATED WITH REAL API INTEGRATION\n\nimport React, { useState, useEffect } from 'react';\nimport { Sidebar } from './components/Layout/Sidebar';\nimport { DocumentTable } from './components/Search/DocumentTable';\nimport { RenovationROI } from './components/Automate/RenovationROI';\nimport { GCMatch } from './components/Automate/GCMatch';\nimport { FactSheet } from './components/Snapshot/FactSheet';\nimport { ChatInterface } from './components/Copilot/ChatInterface';\nimport { FileUpload } from './components/Common/FileUpload';\nimport { Bot, X, AlertCircle } from 'lucide-react';\nimport apiService from './services/api'; // REAL API SERVICE\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [activeTask, setActiveTask] = useState('search');\n  const [activeAutomateTab, setActiveAutomateTab] = useState('roi');\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\n  const [isChatExpanded, setIsChatExpanded] = useState(false);\n  const [documents, setDocuments] = useState([]);\n  const [selectedDocuments, setSelectedDocuments] = useState([]);\n  const [rehabScope, setRehabScope] = useState(null);\n  const [lapisUsage, setLapisUsage] = useState({\n    search: 0,\n    automate: 0,\n    snapshot: 0,\n    remaining: 210,\n    total: 210\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const conversationId = 'conv-' + Date.now();\n\n  // Load initial data\n  useEffect(() => {\n    loadInitialData();\n  }, []);\n  const loadInitialData = async () => {\n    try {\n      setLoading(true);\n\n      // Load Lapis usage\n      const usage = await apiService.getLapisUsage();\n      setLapisUsage(usage);\n\n      // Load existing documents\n      const documentsResponse = await apiService.getDocumentFields();\n      if (documentsResponse.success && documentsResponse.data) {\n        setDocuments(documentsResponse.data);\n      }\n    } catch (error) {\n      console.error('Failed to load initial data:', error);\n      setError('Failed to load application data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // in App.tsx\n  const handleRunAutomation = async ids => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // POST to /api/automate/renovation-roi with real IDs\n      const result = await apiService.runAutomation(ids);\n      console.log('Automation result:', result);\n\n      // Update your Lapis usage, UI, etc. as needed\n    } catch (err) {\n      console.error('Failed to run automation', err);\n      setError('Failed to run automation');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // frontend/src/App.tsx\n\n  const handleUpload = async files => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Upload files to backend\n      const result = await apiService.uploadDocuments(files);\n      if (result.documents) {\n        // Normalize so each doc has an `.id`, plus top-level props\n        const normalized = result.documents.map(d => ({\n          id: d.id,\n          filename: d.filename,\n          type: d.type,\n          status: d.status,\n          uploadedAt: d.uploadedAt,\n          // spread your extracted fields into top-level props:\n          ...d.extractedFields\n        }));\n\n        // Merge into state\n        setDocuments(prev => [...prev, ...normalized]);\n\n        // Update Lapis usage (files.length * 2 for search)\n        const newUsage = {\n          ...lapisUsage\n        };\n        newUsage.search += files.length * 2;\n        newUsage.remaining -= files.length * 2;\n        setLapisUsage(newUsage);\n        console.log(`Successfully uploaded ${files.length} files`);\n      }\n    } catch (error) {\n      console.error('Upload failed:', error);\n      setError('Failed to upload documents. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDocumentSelect = docIds => {\n    const selected = documents.filter(doc => docIds.includes(doc.id));\n    setSelectedDocuments(selected);\n  };\n  const handleFieldUpdate = async (documentId, field, value) => {\n    try {\n      await apiService.updateField(documentId, field, value);\n\n      // Update local state\n      setDocuments(prev => prev.map(doc => doc.id === documentId ? {\n        ...doc,\n        [field]: value\n      } : doc));\n    } catch (error) {\n      console.error('Failed to update field:', error);\n      setError('Failed to update field');\n    }\n  };\n  const handleGenerateReport = async scope => {\n    try {\n      setLoading(true);\n      setError(null);\n      const documentIds = selectedDocuments.map(doc => doc.id);\n      const result = await apiService.generateRenovationROI(documentIds, scope.targetROI || 15, scope.budgetCap || 100000);\n      setRehabScope(result.rehabScope);\n\n      // Update Lapis usage\n      const newUsage = {\n        ...lapisUsage\n      };\n      newUsage.automate += 8;\n      newUsage.remaining -= 8;\n      setLapisUsage(newUsage);\n      console.log('Renovation ROI report generated successfully');\n    } catch (error) {\n      console.error('Failed to generate report:', error);\n      setError('Failed to generate renovation ROI report');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleGenerateFactSheet = async factSheet => {\n    try {\n      setLoading(true);\n      setError(null);\n      const documentIds = selectedDocuments.map(doc => doc.id);\n      const result = await apiService.generateFactSheet(documentIds, rehabScope === null || rehabScope === void 0 ? void 0 : rehabScope.id);\n\n      // Update Lapis usage\n      const newUsage = {\n        ...lapisUsage\n      };\n      newUsage.snapshot += 1;\n      newUsage.remaining -= 1;\n      setLapisUsage(newUsage);\n      console.log('Fact sheet generated successfully');\n\n      // Optionally download the PDF\n      if (result.downloadUrl) {\n        window.open(result.downloadUrl, '_blank');\n      }\n    } catch (error) {\n      console.error('Failed to generate fact sheet:', error);\n      setError('Failed to generate fact sheet');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSendChat = async message => {\n    try {\n      const response = await apiService.sendChatMessage(conversationId, message);\n      return response;\n    } catch (error) {\n      console.error('Chat message failed:', error);\n      throw error;\n    }\n  };\n  const handleSendRFPs = async (contractors, startDate, zipCode) => {\n    try {\n      setLoading(true);\n      setError(null);\n      if (!(rehabScope !== null && rehabScope !== void 0 && rehabScope.id)) {\n        setError('Please generate a rehab scope first');\n        return;\n      }\n      const result = await apiService.executeGCMatch(rehabScope.id, startDate, zipCode);\n      console.log(`RFPs sent to ${contractors.length} contractors`);\n      console.log('GC Match results:', result);\n    } catch (error) {\n      console.error('Failed to send RFPs:', error);\n      setError('Failed to send RFPs to contractors');\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading && documents.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen bg-gray-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading TriPilot...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-100\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-4 right-4 bg-red-500 text-white p-4 rounded-lg shadow-lg z-50 flex items-center gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        className: \"ml-2 text-white hover:text-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n      activeTask: activeTask,\n      onTaskChange: setActiveTask,\n      lapisUsage: lapisUsage,\n      isCollapsed: isSidebarCollapsed,\n      onToggleCollapse: () => setIsSidebarCollapsed(!isSidebarCollapsed)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow-sm px-6 py-4 flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold\",\n            children: [activeTask === 'search' && 'Search & Explore Documents', activeTask === 'automate' && 'Automate Analysis', activeTask === 'snapshot' && 'Generate Snapshots']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium\",\n              children: [\"TRIAL \\u2022 \", lapisUsage.remaining, \" Lapis\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6\",\n          children: [activeTask === 'search' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: documents.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"max-w-2xl mx-auto\",\n              children: /*#__PURE__*/_jsxDEV(FileUpload, {\n                onUpload: handleUpload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(DocumentTable, {\n              documents: documents,\n              onFieldUpdate: handleFieldUpdate,\n              onDocumentSelect: handleDocumentSelect,\n              onRunAutomation: handleRunAutomation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 26\n            }, this)\n          }, void 0, false), activeTask === 'automate' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveAutomateTab('roi'),\n                className: `px-4 py-2 rounded-lg font-medium ${activeAutomateTab === 'roi' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n                children: \"Renovation ROI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveAutomateTab('gc'),\n                className: `px-4 py-2 rounded-lg font-medium ${activeAutomateTab === 'gc' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n                children: \"GC-Match\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this), activeAutomateTab === 'roi' ? /*#__PURE__*/_jsxDEV(RenovationROI, {\n              selectedDocuments: selectedDocuments,\n              onGenerateReport: handleGenerateReport\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(GCMatch, {\n              rehabScope: rehabScope,\n              onSendRFPs: handleSendRFPs\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true), activeTask === 'snapshot' && /*#__PURE__*/_jsxDEV(FactSheet, {\n            selectedDocuments: selectedDocuments,\n            rehabScope: rehabScope,\n            onGenerateFactSheet: handleGenerateFactSheet\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `transition-all duration-300 ${isChatExpanded ? 'w-96' : 'w-0'} bg-white shadow-lg overflow-hidden flex flex-col`,\n        children: /*#__PURE__*/_jsxDEV(ChatInterface, {\n          conversationId: conversationId,\n          onSendMessage: handleSendChat,\n          isExpanded: isChatExpanded\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setIsChatExpanded(!isChatExpanded),\n      className: `fixed bottom-6 right-6 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all ${isChatExpanded ? 'bg-gray-600 hover:bg-gray-700' : 'bg-blue-600 hover:bg-blue-700 animate-pulse'}`,\n      children: isChatExpanded ? /*#__PURE__*/_jsxDEV(X, {\n        className: \"text-white\",\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Bot, {\n        className: \"text-white\",\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"tirMDIjWwhfByGQ/WULeHSaXhtc=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Sidebar","DocumentTable","RenovationROI","GCMatch","FactSheet","ChatInterface","FileUpload","Bot","X","AlertCircle","apiService","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","activeTask","setActiveTask","activeAutomateTab","setActiveAutomateTab","isSidebarCollapsed","setIsSidebarCollapsed","isChatExpanded","setIsChatExpanded","documents","setDocuments","selectedDocuments","setSelectedDocuments","rehabScope","setRehabScope","lapisUsage","setLapisUsage","search","automate","snapshot","remaining","total","loading","setLoading","error","setError","conversationId","Date","now","loadInitialData","usage","getLapisUsage","documentsResponse","getDocumentFields","success","data","console","handleRunAutomation","ids","result","runAutomation","log","err","handleUpload","files","uploadDocuments","normalized","map","d","id","filename","type","status","uploadedAt","extractedFields","prev","newUsage","length","handleDocumentSelect","docIds","selected","filter","doc","includes","handleFieldUpdate","documentId","field","value","updateField","handleGenerateReport","scope","documentIds","generateRenovationROI","targetROI","budgetCap","handleGenerateFactSheet","factSheet","generateFactSheet","downloadUrl","window","open","handleSendChat","message","response","sendChatMessage","handleSendRFPs","contractors","startDate","zipCode","executeGCMatch","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","onClick","onTaskChange","isCollapsed","onToggleCollapse","onUpload","onFieldUpdate","onDocumentSelect","onRunAutomation","onGenerateReport","onSendRFPs","onGenerateFactSheet","onSendMessage","isExpanded","_c","$RefreshReg$"],"sources":["E:/tripilot-real-estate(29-june)/frontend/src/App.tsx"],"sourcesContent":["// frontend/src/App.tsx - UPDATED WITH REAL API INTEGRATION\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Sidebar } from './components/Layout/Sidebar';\r\nimport { DocumentTable } from './components/Search/DocumentTable';\r\nimport { RenovationROI } from './components/Automate/RenovationROI';\r\nimport { GCMatch } from './components/Automate/GCMatch';\r\nimport { FactSheet } from './components/Snapshot/FactSheet';\r\nimport { ChatInterface } from './components/Copilot/ChatInterface';\r\nimport { FileUpload } from './components/Common/FileUpload';\r\nimport { LapisUsage } from '../../shared/types';\r\nimport { Bot, X, AlertCircle } from 'lucide-react';\r\nimport apiService from './services/api'; // REAL API SERVICE\r\n\r\nfunction App() {\r\n  const [activeTask, setActiveTask] = useState<'search' | 'automate' | 'snapshot'>('search');\r\n  const [activeAutomateTab, setActiveAutomateTab] = useState<'roi' | 'gc'>('roi');\r\n  const [isSidebarCollapsed, setIsSidebarCollapsed] = useState(false);\r\n  const [isChatExpanded, setIsChatExpanded] = useState(false);\r\n  const [documents, setDocuments] = useState<any[]>([]);\r\n  const [selectedDocuments, setSelectedDocuments] = useState<any[]>([]);\r\n  const [rehabScope, setRehabScope] = useState<any>(null);\r\n  const [lapisUsage, setLapisUsage] = useState<LapisUsage>({\r\n    search: 0,\r\n    automate: 0,\r\n    snapshot: 0,\r\n    remaining: 210,\r\n    total: 210\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const conversationId = 'conv-' + Date.now();\r\n\r\n  // Load initial data\r\n  useEffect(() => {\r\n    loadInitialData();\r\n  }, []);\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Load Lapis usage\r\n      const usage = await apiService.getLapisUsage();\r\n      setLapisUsage(usage);\r\n      \r\n      // Load existing documents\r\n      const documentsResponse = await apiService.getDocumentFields();\r\n      if (documentsResponse.success && documentsResponse.data) {\r\n        setDocuments(documentsResponse.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load initial data:', error);\r\n      setError('Failed to load application data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n   // in App.tsx\r\nconst handleRunAutomation = async (ids: string[]) => {\r\n  try {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    // POST to /api/automate/renovation-roi with real IDs\r\n    const result = await apiService.runAutomation(ids);\r\n    console.log('Automation result:', result);\r\n\r\n    // Update your Lapis usage, UI, etc. as needed\r\n  } catch (err) {\r\n    console.error('Failed to run automation', err);\r\n    setError('Failed to run automation');\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n\r\n// frontend/src/App.tsx\r\n\r\nconst handleUpload = async (files: File[]) => {\r\n  try {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    // Upload files to backend\r\n    const result = await apiService.uploadDocuments(files);\r\n\r\n    if (result.documents) {\r\n      // Normalize so each doc has an `.id`, plus top-level props\r\n      const normalized = result.documents.map(d => ({\r\n        id: d.id,\r\n        filename: d.filename,\r\n        type: d.type,\r\n        status: d.status,\r\n        uploadedAt: d.uploadedAt,\r\n        // spread your extracted fields into top-level props:\r\n        ...d.extractedFields\r\n      }));\r\n\r\n      // Merge into state\r\n      setDocuments(prev => [...prev, ...normalized]);\r\n\r\n      // Update Lapis usage (files.length * 2 for search)\r\n      const newUsage = { ...lapisUsage };\r\n      newUsage.search += files.length * 2;\r\n      newUsage.remaining -= files.length * 2;\r\n      setLapisUsage(newUsage);\r\n\r\n      console.log(`Successfully uploaded ${files.length} files`);\r\n    }\r\n  } catch (error) {\r\n    console.error('Upload failed:', error);\r\n    setError('Failed to upload documents. Please try again.');\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n\r\n\r\n  const handleDocumentSelect = (docIds: string[]) => {\r\n    const selected = documents.filter(doc => docIds.includes(doc.id));\r\n    setSelectedDocuments(selected);\r\n  };\r\n\r\n  const handleFieldUpdate = async (documentId: string, field: string, value: any) => {\r\n    try {\r\n      await apiService.updateField(documentId, field, value);\r\n      \r\n      // Update local state\r\n      setDocuments(prev => \r\n        prev.map(doc => \r\n          doc.id === documentId \r\n            ? { ...doc, [field]: value }\r\n            : doc\r\n        )\r\n      );\r\n    } catch (error) {\r\n      console.error('Failed to update field:', error);\r\n      setError('Failed to update field');\r\n    }\r\n  };\r\n\r\n  const handleGenerateReport = async (scope: any) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const documentIds = selectedDocuments.map(doc => doc.id);\r\n      const result = await apiService.generateRenovationROI(\r\n        documentIds,\r\n        scope.targetROI || 15,\r\n        scope.budgetCap || 100000\r\n      );\r\n      \r\n      setRehabScope(result.rehabScope);\r\n      \r\n      // Update Lapis usage\r\n      const newUsage = { ...lapisUsage };\r\n      newUsage.automate += 8;\r\n      newUsage.remaining -= 8;\r\n      setLapisUsage(newUsage);\r\n      \r\n      console.log('Renovation ROI report generated successfully');\r\n    } catch (error) {\r\n      console.error('Failed to generate report:', error);\r\n      setError('Failed to generate renovation ROI report');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGenerateFactSheet = async (factSheet: any) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const documentIds = selectedDocuments.map(doc => doc.id);\r\n      const result = await apiService.generateFactSheet(documentIds, rehabScope?.id);\r\n      \r\n      // Update Lapis usage\r\n      const newUsage = { ...lapisUsage };\r\n      newUsage.snapshot += 1;\r\n      newUsage.remaining -= 1;\r\n      setLapisUsage(newUsage);\r\n      \r\n      console.log('Fact sheet generated successfully');\r\n      \r\n      // Optionally download the PDF\r\n      if (result.downloadUrl) {\r\n        window.open(result.downloadUrl, '_blank');\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to generate fact sheet:', error);\r\n      setError('Failed to generate fact sheet');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSendChat = async (message: string) => {\r\n    try {\r\n      const response = await apiService.sendChatMessage(conversationId, message);\r\n      return response;\r\n    } catch (error) {\r\n      console.error('Chat message failed:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleSendRFPs = async (contractors: any[], startDate: string, zipCode: string) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      if (!rehabScope?.id) {\r\n        setError('Please generate a rehab scope first');\r\n        return;\r\n      }\r\n      \r\n      const result = await apiService.executeGCMatch(\r\n        rehabScope.id,\r\n        startDate,\r\n        zipCode\r\n      );\r\n      \r\n      console.log(`RFPs sent to ${contractors.length} contractors`);\r\n      console.log('GC Match results:', result);\r\n    } catch (error) {\r\n      console.error('Failed to send RFPs:', error);\r\n      setError('Failed to send RFPs to contractors');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading && documents.length === 0) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen bg-gray-100\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">Loading TriPilot...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-100\">\r\n      {/* Error Toast */}\r\n      {error && (\r\n        <div className=\"fixed top-4 right-4 bg-red-500 text-white p-4 rounded-lg shadow-lg z-50 flex items-center gap-2\">\r\n          <AlertCircle size={20} />\r\n          <span>{error}</span>\r\n          <button \r\n            onClick={() => setError(null)}\r\n            className=\"ml-2 text-white hover:text-gray-200\"\r\n          >\r\n            <X size={16} />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Sidebar */}\r\n      <Sidebar\r\n        activeTask={activeTask}\r\n        onTaskChange={setActiveTask}\r\n        lapisUsage={lapisUsage}\r\n        isCollapsed={isSidebarCollapsed}\r\n        onToggleCollapse={() => setIsSidebarCollapsed(!isSidebarCollapsed)}\r\n      />\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex overflow-hidden\">\r\n        <div className=\"flex-1 overflow-auto\">\r\n          {/* Header */}\r\n          <div className=\"bg-white shadow-sm px-6 py-4 flex items-center justify-between\">\r\n            <h1 className=\"text-2xl font-bold\">\r\n              {activeTask === 'search' && 'Search & Explore Documents'}\r\n              {activeTask === 'automate' && 'Automate Analysis'}\r\n              {activeTask === 'snapshot' && 'Generate Snapshots'}\r\n            </h1>\r\n            \r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium\">\r\n                TRIAL â€¢ {lapisUsage.remaining} Lapis\r\n              </span>\r\n              {loading && (\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent\"></div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content Area */}\r\n          <div className=\"p-6\">\r\n            {activeTask === 'search' && (\r\n              <>\r\n                {documents.length === 0 ? (\r\n                  <div className=\"max-w-2xl mx-auto\">\r\n                    <FileUpload onUpload={handleUpload} />\r\n                  </div>\r\n                ) : (\r\n                         <DocumentTable\r\n                            documents={documents}\r\n                            onFieldUpdate={handleFieldUpdate}\r\n                            onDocumentSelect={handleDocumentSelect}\r\n                            onRunAutomation={handleRunAutomation}\r\n                          />\r\n\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {activeTask === 'automate' && (\r\n              <>\r\n                {/* Automate Tabs */}\r\n                <div className=\"flex gap-4 mb-6\">\r\n                  <button\r\n                    onClick={() => setActiveAutomateTab('roi')}\r\n                    className={`px-4 py-2 rounded-lg font-medium ${\r\n                      activeAutomateTab === 'roi'\r\n                        ? 'bg-blue-600 text-white'\r\n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                    }`}\r\n                  >\r\n                    Renovation ROI\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setActiveAutomateTab('gc')}\r\n                    className={`px-4 py-2 rounded-lg font-medium ${\r\n                      activeAutomateTab === 'gc'\r\n                        ? 'bg-blue-600 text-white'\r\n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n                    }`}\r\n                  >\r\n                    GC-Match\r\n                  </button>\r\n                </div>\r\n\r\n                {activeAutomateTab === 'roi' ? (\r\n                  <RenovationROI\r\n                    selectedDocuments={selectedDocuments}\r\n                    onGenerateReport={handleGenerateReport}\r\n                  />\r\n                ) : (\r\n                  <GCMatch\r\n                    rehabScope={rehabScope}\r\n                    onSendRFPs={handleSendRFPs}\r\n                  />\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {activeTask === 'snapshot' && (\r\n              <FactSheet\r\n                selectedDocuments={selectedDocuments}\r\n                rehabScope={rehabScope}\r\n                onGenerateFactSheet={handleGenerateFactSheet}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Copilot Chat Sidebar */}\r\n        <div className={`transition-all duration-300 ${\r\n          isChatExpanded ? 'w-96' : 'w-0'\r\n        } bg-white shadow-lg overflow-hidden flex flex-col`}>\r\n          <ChatInterface\r\n            conversationId={conversationId}\r\n            onSendMessage={handleSendChat}\r\n            isExpanded={isChatExpanded}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Floating Copilot Button */}\r\n      <button\r\n        onClick={() => setIsChatExpanded(!isChatExpanded)}\r\n        className={`fixed bottom-6 right-6 w-14 h-14 rounded-full shadow-lg flex items-center justify-center transition-all ${\r\n          isChatExpanded \r\n            ? 'bg-gray-600 hover:bg-gray-700' \r\n            : 'bg-blue-600 hover:bg-blue-700 animate-pulse'\r\n        }`}\r\n      >\r\n        {isChatExpanded ? (\r\n          <X className=\"text-white\" size={24} />\r\n        ) : (\r\n          <Bot className=\"text-white\" size={24} />\r\n        )}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}